(module(import "imports" "log" (func $printInt (param i32)))(import "graphics" "draw" (func $draw (param i32)(param i32)(param i32)))(import "graphics" "reqNextFrame" (func $finishDrawing))(import "graphics" "clearScreen" (func $clearScreen))(global $x (mut i32)(i32.const 0))(global $y (mut i32)(i32.const 0))(global $vVel (mut i32)(i32.const 0))(global $hVel (mut i32)(i32.const 0))(global $left (mut i32)(i32.const 0))(global $right (mut i32)(i32.const 0))(global $up (mut i32)(i32.const 0))(global $down (mut i32)(i32.const 0))(global $gameFrame (mut i32)(i32.const 0))(func $start(export "start")(global.set $x(i32.const 0))(global.set $y(i32.const 0))(global.set $vVel(i32.const 0))(global.set $left(i32.const 0))(global.set $right(i32.const 0))(global.set $gameFrame(i32.const 0)))(func $DrawGame(i32.const 2)(i32.const 0)(i32.const 0)(call $draw)(i32.const 1)(global.get $x)(i32.const 16)(i32.div_s)(global.get $y)(i32.const 16)(i32.div_s)(call $draw))(func $MainLoop(export "MainLoop")(global.set $vVel(global.get $vVel)(i32.const 1)(i32.sub))(global.set $y(global.get $y)(global.get $vVel)(i32.sub))(global.get $right)(if (then (global.set $hVel(i32.add (global.get $hVel)(i32.const 1))))(else (global.get $left)(if (then (global.set $hVel(global.get $hVel)(i32.const 1)(i32.sub)))(else (global.get $hVel)(i32.const 0)(i32.gt_s)(if (then (global.set $hVel(global.get $hVel)(i32.const 1)(i32.sub)))(else (global.get $hVel)(i32.const 0)(i32.lt_s)(if (then (global.set $hVel(i32.add (global.get $hVel)(i32.const 1))))(else (global.set $hVel(i32.const 0))))))))))(global.set $x(i32.add (global.get $x)(global.get $hVel)))(global.get $y)(i32.const 16)(i32.div_s)(i32.const 100)(i32.gt_s)(if (then (global.set $y(i32.const 100)(i32.const 16)(i32.mul))(global.set $vVel(i32.const 0)))(else ))(call $clearScreen)(call $DrawGame))(func $Jump(global.set $vVel(i32.const 2)(i32.const 16)(i32.mul)))(func $OnKeyDown(export "OnKeyDown")(param $e i32)(local.get $e)(i32.const 39)(i32.eq)(if (then (global.set $right(i32.const 1)))(else ))(local.get $e)(i32.const 37)(i32.eq)(if (then (global.set $left(i32.const 1)))(else ))(local.get $e)(i32.const 38)(i32.eq)(if (then (global.set $up(i32.const 1))(call $Jump))(else ))(local.get $e)(i32.const 40)(i32.eq)(if (then (global.set $down(i32.const 1)))(else )))(func $OnKeyUp(export "OnKeyUp")(param $e i32)(local.get $e)(i32.const 39)(i32.eq)(if (then (global.set $right(i32.const 0)))(else ))(local.get $e)(i32.const 37)(i32.eq)(if (then (global.set $left(i32.const 0)))(else ))(local.get $e)(i32.const 38)(i32.eq)(if (then (global.set $up(i32.const 0)))(else ))(local.get $e)(i32.const 40)(i32.eq)(if (then (global.set $down(i32.const 0)))(else ))))